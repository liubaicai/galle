
<% content_for :projects_slide_active do %>
  active
<% end %>

<%= form_for @project, url: {action: "create"} do |f| %>
    <div class="form-group">
        <label>(必填)项目名称</label>
        <%= f.text_field :title, type: "text", class: "form-control", placeholder: "项目名称" %>
    </div>
    <div class="form-group">
        <label>项目描述</label>
        <%= f.text_field :description, type: "text", class: "form-control", placeholder: "项目描述" %>
    </div>
    <div class="form-group">
        <label>(必填)Git仓库地址,格式:git@example.com:user/project.git</label>
        <%= f.text_field :git_url, type: "text", class: "form-control", placeholder: "Git仓库地址" %>
    </div>
    <div class="form-group">
        <label>项目分支名或提交版本或TAG名，不填默认master</label>
        <%= f.text_field :git_version, type: "text", class: "form-control", placeholder: "项目分支或版本" %>
    </div>
    <div class="form-group">
        <label>仅包括下列文件或文件夹，以;分隔(填写后排除文件项失效)</label>
        <%= f.text_field :file_included, type: "text", class: "form-control", placeholder: "仅添加的文件或文件夹，以;分隔" %>
    </div>
    <div class="form-group">
        <label>排除下列文件或文件夹，以;分隔(仅包括文件不为空时生效)</label>
        <%= f.text_field :file_excludable, type: "text", class: "form-control", placeholder: "排除的文件或文件夹，以;分隔" %>
    </div>
    <div class="form-group">
        <label>(必填)目标服务器的部署路径，绝对地址，确认有权限访问，无需事先创建</label>
        <%= f.text_field :target_deploy_path, type: "text", class: "form-control", placeholder: "目标部署路径" %>
    </div>
    <div class="form-group">
        <label>(必填)目标服务器的备份路径，绝对地址，确认有权限访问，无需事先创建</label>
        <%= f.text_field :target_backup_path, type: "text", class: "form-control", placeholder: "目标备份路径" %>
    </div>
    <div class="form-group">
        <label>检出代码前执行的脚本任务，以;分隔</label>
        <%= f.text_field :task_pre_checkout, type: "text", class: "form-control", placeholder: "检出前脚本任务，以;分隔" %>
    </div>
    <div class="form-group">
        <label>检出代码后执行的脚本任务，以;分隔</label>
        <%= f.text_field :task_post_checkout, type: "text", class: "form-control", placeholder: "检出后脚本任务，以;分隔" %>
    </div>
    <div class="form-group">
        <label>部署代码前执行的脚本任务，以;分隔</label>
        <%= f.text_field :task_pre_deploy, type: "text", class: "form-control", placeholder: "部署前脚本任务，以;分隔" %>
    </div>
    <div class="form-group">
        <label>部署代码后执行的脚本任务，以;分隔</label>
        <%= f.text_field :task_post_deploy, type: "text", class: "form-control", placeholder: "部署后脚本任务，以;分隔" %>
    </div>
  <div class="form-group">
    <label>(必填)要部署到的目标服务器，多选</label>
    <select id='publisher_servers' name='publisher_servers[]' multiple='multiple' size='10' class="form-control">
      <% @servers.each do |server| %>
        <option value="<%= server.id %>"><%= server.address %>:<%= server.port %></option>
      <% end %>
    </select>
  </div>
  <%= f.submit "创建", class: "btn btn-primary" %>
  <%= link_to '取消', projects_path, type: "button", class: "btn btn-default" %>
<% end %>
